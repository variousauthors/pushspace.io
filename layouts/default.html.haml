---

---

!!!
%html{:lang => "en"}
  %head
    %meta{:charset => "utf-8"}
      %title
        A Brand New nanoc Site - #{@item[:title]}
      %link{:href => @items['/stylesheet/'].path, :rel => "stylesheet"}
        / you don't need to keep this, but it's cool for stats!
        %meta{:content => "nanoc #{Nanoc::VERSION}", :name => "generator"}
  %body.orange{ :tabindex => 1 }
    #container.soft-top
      #puzzlescript{ :tabindex => 2 }
      #main
        .content.push.relative.soft
          = yield

    %script{:src => "js/puzzlescript-embed.js", :type => "text/javascript"}

:javascript
  var $puzzlescript = document.getElementById("puzzlescript")

  PuzzleScript.embed($puzzlescript, "e55198d4f105a6e7b4e0");

  (function () {
    function swap (e) {
      var className = this.className;

      if (e.keyCode == 32) {
        console.log("IN");
        e.preventDefault();
        this.className = (this.className == "orange")? "blue" : "orange";
      }
    }

    document.body.onkeydown = swap;

    $puzzlescript.onfocus = function () {
      console.log("focus");
      document.body.onkeydown = null;
    };

    $puzzlescript.onblur = function () {
      console.log("blur");
      document.body.onkeydown = swap;
    };
  }());


